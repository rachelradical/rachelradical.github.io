name: Build and Deploy GitHub Pages

on:
push:
branches:
- main 

jobs:
build-and-deploy:
runs-on: ubuntu-latest

steps:
- name: Checkout Repository
  uses: actions/checkout@v3

- name: Setup Ruby
  uses: ruby/setup-ruby@v1
  with:
    ruby-version: 3.1  # Use the Ruby version required by your site

- name: Install Dependencies
  run: |
    gem install bundler
    bundle install

- name: Build Site with Jekyll
  run: |
    bundle exec jekyll build

- name: Deploy to GitHub Pages
  uses: peaceiris/actions-gh-pages@v3
  with:
    github_token: ${{ secrets.GITHUB_TOKEN }}
    publish_dir: ./_site
